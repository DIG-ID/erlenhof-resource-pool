---
import {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select"

import { app } from "../firebase/server";
import { getFirestore } from "firebase-admin/firestore";

const db = getFirestore(app);
const rolesRef = db.collection("roles");
const rolesSnapshot = await rolesRef.get();
const roles = rolesSnapshot.docs.map((doc) => doc.data().name);
---

<Select>
  <SelectTrigger>
    <SelectValue>Select a Role</SelectValue>
  </SelectTrigger>
  <SelectContent>
    {roles.map((role) => (
      <SelectGroup key={role} label={role}>
        <SelectItem value={role}>{role}</SelectItem>
      </SelectGroup>
    ))}
  </SelectContent>
</Select>


