---
const url = new URL(Astro.request.url);
const mode = url.searchParams.get("mode");
const oobCode = url.searchParams.get("oobCode");

if (mode === "verifyEmail" && oobCode) {
  return Astro.redirect(`/auth/email-validation?oobCode=${oobCode}`);
}

if (mode === "resetPassword" && oobCode) {
  return Astro.redirect(`/auth/reset-password?oobCode=${oobCode}`);
}

// fallback gen√©rico
return Astro.redirect("/auth/login");
---
