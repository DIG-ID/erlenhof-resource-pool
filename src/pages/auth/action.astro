---
const url = new URL(Astro.request.url);
const mode = url.searchParams.get("mode");
const oobCode = url.searchParams.get("oobCode");

let redirectTo = "/auth/login"; // fallback
if (mode === "verifyEmail") {
  redirectTo = `/auth/email-verification?oobCode=${oobCode}`;
} else if (mode === "resetPassword") {
  redirectTo = `/auth/reset-password?oobCode=${oobCode}`;
}
---

<html lang="en">
  <head>
    <meta http-equiv="refresh" content={`0; URL=${redirectTo}`} />
    <title>Redirecting...</title>
  </head>
  <body>
    <p>Redirecting to appropriate page...</p>
  </body>
</html>
