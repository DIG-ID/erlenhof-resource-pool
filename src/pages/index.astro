---

import Layout from "@/layouts/Layout.astro";
import Dashboard from "@/components/Dashboard.astro";
import WidgetJobs from "@/components/widgets/WidgetJobs.astro"
import WidgetUsers from "@/components/widgets/WidgetUsers.astro"
import WidgetJobOpen from "@/components/widgets/WidgetJobOpen.astro"
import WidgetJobAssigned from "@/components/widgets/WidgetJobAssigned.astro"

console.log("index aqui")
const { userData } = Astro.locals;
console.log( userData)

---

<Layout title="Dashboard">
  <Dashboard>

    { (userData.role === 'admin' || userData.role === 'super_admin') && (
      <WidgetJobs class="mb-12" />
      <WidgetUsers />
    )}

    { (userData.role === 'level_01' || userData.role === 'level_02') && (
      <WidgetJobOpen />
      <WidgetJobAssigned />
    )}

  </Dashboard>
</Layout>
